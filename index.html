<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Attend+</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">

<script src="https://www.gstatic.com/charts/loader.js"></script>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>

<body>

<!-- LOGIN -->
<div id="login-page">
  <div class="card login-card">
    <h2>Smart Attend+</h2>
    <input id="email" type="email" placeholder="Email">
    <input id="password" type="password" placeholder="Password">
    <select id="role">
      <option value="student">Student</option>
      <option value="teacher">Teacher</option>
    </select>
    <button onclick="login()">Login</button>
    <p id="login-error"></p>
  </div>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="hidden">
<header>
  Smart Attendance Portal
  <button onclick="logout()">Logout</button>
</header>

<div class="dashboard-grid">

<!-- TEACHER -->
<div class="card teacher-only hidden">
  <h3>Generate QR</h3>
  <button onclick="generateQR()">Generate</button>
  <div id="qr-output"></div>
</div>

<div class="card teacher-only hidden">
  <h3>Edit Today’s Classes</h3>
  <div id="edit-classes"></div>
</div>

<div class="card teacher-only hidden">
  <h3>Pending Corrections</h3>
  <div id="correction-requests"></div>
</div>

<!-- STUDENT -->
<div class="card student-only hidden">
  <h3>Scan QR</h3>
  <button onclick="scanQR()">Scan</button>
  <p id="attendance-status"></p>
</div>

<div class="card student-only hidden">
  <h3>Request Correction</h3>
  <button onclick="requestCorrection()">Request</button>
  <p id="correction-status"></p>
</div>

<div class="card student-only hidden">
  <h3>Attendance Prediction</h3>
  <button onclick="getPrediction()">Check</button>
  <p id="prediction-status"></p>
</div>

<!-- COMMON -->
<div class="card">
  <h3>Today’s Classes</h3>
  <div id="todays-classes"></div>
</div>

<div class="card">
  <h3>Audit Logs</h3>
  <div id="audit-logs"></div>
</div>

</div>
</div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyDehcanIPU9BuOuI7qOFjW7cAFXRSExIB0",
  authDomain: "attendx-6be15.firebaseapp.com",
  projectId: "attendx-6be15"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();
</script>

<script src="app.js"></script>
</body>
</html>
