<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Smart Attendance Portal</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
</head>
<body>

<!-- LOGIN PAGE -->
<div id="login-page">
    <div class="login-card">
        <h2>Login</h2>
        <div class="sub">Enter your credentials</div>
        <input type="email" id="email" placeholder="Email">
        <input type="password" id="password" placeholder="Password">
        <select id="role">
            <option value="">Select Role</option>
            <option value="student">Student</option>
            <option value="teacher">Teacher</option>
        </select>
        <div id="login-error" style="color:red; display:none;"></div>
        <button onclick="login()">Login</button>
    </div>
</div>

<!-- DASHBOARD -->
<div id="dashboard" style="display:none;">
    <header>
        <div id="welcome-msg">Welcome</div>
        <button class="logout-btn" onclick="logout()">Logout</button>
    </header>

    <div class="motivation-bar">
        <div id="quoteText">Loading quote...</div>
        <div class="datetime">
            <span id="date"></span> | <span id="time"></span>
        </div>
        <div class="user-info">
            <span id="user-email"></span> | <span id="user-role"></span>
        </div>
    </div>

    <div class="dashboard-grid">

        <!-- Today Classes -->
        <div class="card" id="today-classes-card">
            <h3>Today's Classes</h3>
            <div id="todays-classes"></div>
        </div>

        <!-- Attendance -->
        <div class="card" id="attendance-card">
            <h3>Mark Attendance</h3>
            <button onclick="markAttendance()">Scan QR & Mark Attendance</button>
            <div id="attendance-summary"></div>
        </div>

        <!-- Corrections -->
        <div class="card" id="corrections-card">
            <h3>Correction Requests</h3>
            <div id="correction-requests"></div>
        </div>

        <!-- Audit Logs -->
        <div class="card" id="audit-card">
            <h3>Audit Logs</h3>
            <div id="chart_div"></div>
        </div>

        <!-- Predictions -->
        <div class="card" id="prediction-card">
            <h3>Attendance Prediction</h3>
            <div id="prediction-data"></div>
        </div>

        <!-- Teacher QR Generation -->
        <div class="card" id="teacher-qr-card" style="display:none;">
            <h3>Generate QR</h3>
            <button onclick="generateQRCode()">Generate QR for Class</button>
        </div>

    </div>
</div>

<script src="app.js"></script>
</body>
</html>
