<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart Attendance</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>

<!-- ---------------- Login Card ---------------- -->
<div id="loginBox" class="card">
  <h2>Login</h2>
  <input type="email" id="email" placeholder="Email" />
  <input type="password" id="password" placeholder="Password" />
  <button onclick="login()">Login</button>
</div>

<!-- ---------------- Student Dashboard ---------------- -->
<div id="studentDashboard" class="hidden card">
  <h2 id="studentName"></h2>

  <div class="tabs">
    <button class="tabBtn active" onclick="openTab('todayClass', 'student', event)">Today's Class</button>
    <button class="tabBtn" onclick="openTab('attendanceHistory', 'student', event)">Attendance History</button>
    <button class="tabBtn" onclick="openTab('requestCorrection', 'student', event)">Request Correction</button>
  </div>

  <div id="todayClass" class="tabContent student">
    <h3>Today's Class</h3>
    <button onclick="markAttendance()">Mark Attendance</button>
  </div>

  <div id="attendanceHistory" class="tabContent student hidden">
    <h3>Attendance History</h3>
    <div id="history"></div>
  </div>

  <div id="requestCorrection" class="tabContent student hidden">
    <h3>Request Correction</h3>
    <input id="reason" placeholder="Reason for correction" />
    <button onclick="requestCorrection()">Submit Correction</button>
  </div>
</div>

<!-- ---------------- Teacher Dashboard ---------------- -->
<div id="teacherDashboard" class="hidden card">
  <h2 id="teacherName"></h2>

  <div class="tabs">
    <button class="tabBtn active" onclick="openTab('pendingCorrections', 'teacher', event)">Pending Corrections</button>
    <button class="tabBtn" onclick="openTab('auditLogs', 'teacher', event)">Audit Logs</button>
    <button class="tabBtn" onclick="openTab('qrSession', 'teacher', event)">QR Session</button>
  </div>

  <div id="pendingCorrections" class="tabContent teacher">
    <div id="corrections"></div>
  </div>

  <div id="auditLogs" class="tabContent teacher hidden">
    <div id="auditLogsDiv"></div>
  </div>

  <div id="qrSession" class="tabContent teacher hidden">
    <button onclick="createQRSession()">Generate QR Session</button>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>
